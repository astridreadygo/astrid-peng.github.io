<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Math + Design Portfolio Prototype</title>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400&family=Inter:wght@200;400&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg-color: #0a0a0a;
            --text-color: #ffffff;
            --accent-color: #707070;
        }

        body {
            margin: 0;
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
        }

        /* 磁吸导航栏 */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            padding: 30px 0;
            display: flex;
            justify-content: center;
            gap: 40px;
            z-index: 100;
        }

        .nav-item {
            text-decoration: none;
            color: var(--text-color);
            font-size: 0.8rem;
            letter-spacing: 2px;
            text-transform: uppercase;
            transition: opacity 0.3s;
            cursor: pointer;
            display: inline-block; /* 必须为 inline-block 才能做位移 */
        }

        /* 首页 Hero 区域 */
        .hero {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .hero-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 8vw;
            font-weight: 300;
            margin: 0;
            display: flex;
            overflow: hidden;
        }

        .char {
            display: inline-block;
            will-change: transform, filter, opacity;
        }

        .hero-sub {
            font-size: 0.9rem;
            letter-spacing: 5px;
            opacity: 0.4;
            margin-top: 20px;
        }

        /* 内容占位区域 */
        .content-section {
            height: 150vh;
            padding: 10vw;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .placeholder-text {
            font-size: 4vw;
            line-height: 1.2;
            max-width: 800px;
            opacity: 0.1; /* 初始透明，随滚动出现 */
        }
    </style>
</head>
<body>

    <nav id="navbar">
        <a class="nav-item" href="#">CV</a>
        <a class="nav-item" href="#">Paper</a>
        <a class="nav-item" href="#">Program</a>
        <a class="nav-item" href="#">Blog</a>
        <a class="nav-item" href="#">Photography</a>
    </nav>

    <main>
        <section class="hero">
            <h1 class="hero-title" id="title">ARTIFICIAL&nbsp;LOGIC</h1>
            <p class="hero-sub">MATH × DESIGN × HCI</p>
        </section>

        <section class="content-section">
            <p class="placeholder-text" id="scroll-text">
                Explore the intersection of rigorous mathematical structures and fluid human experiences.
            </p>
        </section>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.19/bundled/lenis.min.js"></script>

    <script>
        // 1. 初始化 Lenis 平滑滚动
        const lenis = new Lenis({
            duration: 1.5,
            easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
            smoothWheel: true
        });

        function raf(time) {
            lenis.raf(time);
            requestAnimationFrame(raf);
        }
        requestAnimationFrame(raf);

        // 2. 准备文字：拆分字母
        const title = document.getElementById('title');
        const text = title.innerText;
        title.innerHTML = '';
        text.split('').forEach((char, i) => {
            const span = document.createElement('span');
            span.innerText = char === ' ' ? '\u00A0' : char;
            span.className = 'char';
            title.appendChild(span);
        });

        // 3. GSAP 滚动动画
        gsap.registerPlugin(ScrollTrigger);

        // 首页文字扩散效果
        gsap.to('.char', {
            scrollTrigger: {
                trigger: '.hero',
                start: 'top top',
                end: 'bottom top',
                scrub: 1, // 随滚动条平滑移动
            },
            x: (i, target) => {
                const centerX = title.offsetWidth / 2;
                const charX = target.offsetLeft;
                return (charX - centerX) * 3; // 数学逻辑：距离中心越远，位移越大
            },
            opacity: 0,
            filter: 'blur(20px)',
            ease: 'none'
        });

        // 内容文字浮现
        gsap.to('#scroll-text', {
            scrollTrigger: {
                trigger: '#scroll-text',
                start: 'top 80%',
                end: 'top 20%',
                scrub: true
            },
            opacity: 1,
            y: -50
        });

        // 4. HCI 交互：磁吸导航栏 (Magnetic Effect)
        const navItems = document.querySelectorAll('.nav-item');
        navItems.forEach(item => {
            item.addEventListener('mousemove', (e) => {
                const rect = item.getBoundingClientRect();
                const x = e.clientX - rect.left - rect.width / 2;
                const y = e.clientY - rect.top - rect.height / 2;
                
                // 磁吸位移：将按钮拉向鼠标
                gsap.to(item, {
                    x: x * 0.5,
                    y: y * 0.5,
                    duration: 0.3,
                    ease: "power2.out"
                });
            });

            item.addEventListener('mouseleave', () => {
                // 鼠标离开，回到原点
                gsap.to(item, {
                    x: 0,
                    y: 0,
                    duration: 0.5,
                    ease: "elastic.out(1, 0.3)" // 弹性回归，更有质感
                });
            });
        });
    </script>
</body>
</html>